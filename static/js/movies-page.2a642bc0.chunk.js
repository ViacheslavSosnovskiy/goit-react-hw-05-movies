(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[5],{49:function(t,e,n){"use strict";n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return j})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return x}));var r=n(57),c=n.n(r),a=n(58),o=n(59),u=n.n(o),s="42d598709b0517212023a74116f4ecb9",i="https://api.themoviedb.org/3",p="/trending/movie/week",l="/search/movie";function h(t){return b.apply(this,arguments)}function b(){return(b=Object(a.a)(c.a.mark((function t(e){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("".concat(i).concat(p,"?api_key=").concat(s,"&page=").concat(e));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function j(t,e){return f.apply(this,arguments)}function f(){return(f=Object(a.a)(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("".concat(i).concat(l,"?api_key=").concat(s,"&page=").concat(n,"&query=").concat(e));case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function d(t){return v.apply(this,arguments)}function v(){return(v=Object(a.a)(c.a.mark((function t(e){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("".concat(i,"movie/").concat(e,"?api_key=").concat(s));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function O(t){return m.apply(this,arguments)}function m(){return(m=Object(a.a)(c.a.mark((function t(e){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("".concat(i,"movie/").concat(e,"/credits?api_key=").concat(s));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function x(t){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(c.a.mark((function t(e){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("".concat(i,"movie/").concat(e,"/reviews?api_key=").concat(s,"&page=1"));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}},55:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(9),c=n(1);function a(t){var e=t.movies,n=t.url,a=t.location;return console.log(e),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("ul",{children:e.map((function(t){var e=t.id,o=t.title,u=t.poster_path,s=t.release_date,i=t.vote_average;return Object(c.jsx)("li",{children:Object(c.jsx)(r.b,{to:{pathname:"".concat(n,"/").concat(e),state:{from:a}},children:Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:"https://image.tmdb.org/t/p/w200"+u,alt:o}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:o}),i&&Object(c.jsxs)("p",{children:["\u2b50\ufe0f",i]}),s&&Object(c.jsx)("p",{children:s.slice(0,4)})]})]})})},e)}))})})}},56:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(1);function c(t){var e=t.onLoadMore;return Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"button",onClick:e,children:"Load more"})})}},95:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var r=n(89),c=n(60),a=n(50),o=n(0),u=n(3),s=n(49),i=n(55),p=n(90),l=(n(88),n(1));function h(t){var e=t.searchHandler,n=Object(o.useState)(""),r=Object(a.a)(n,2),c=r[0],u=r[1],s=function(){u("")};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(t){if(t.preventDefault(),""===c.trim())return p.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e!");e(c),s()},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{value:c,onChange:function(t){u(t.target.value.toLowerCase())},className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]}),Object(l.jsx)(p.a,{})]})}var b=n(56),j=n(13),f=n.n(j);n(18);function d(){var t=Object(u.f)(),e=Object(u.g)(),n=Object(u.i)().url,p=new URLSearchParams(e.search).get("query"),j=Object(o.useState)(null!==p&&void 0!==p?p:""),d=Object(a.a)(j,2),v=d[0],O=d[1],m=Object(o.useState)([]),x=Object(a.a)(m,2),g=x[0],w=x[1],y=Object(o.useState)(1),k=Object(a.a)(y,2),S=k[0],F=k[1],_=Object(o.useState)("idle"),L=Object(a.a)(_,2),C=L[0],N=L[1];Object(o.useEffect)((function(){v&&q()}),[v]);var q=function(){N("pending"),s.d(v,S).then((function(t){var e=t.results;w((function(t){return[].concat(Object(c.a)(t),Object(c.a)(e))}))})),F((function(t){return t+1})),N("resolved"),1!==S&&H()},H=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},D=g.length>0&&g.length>=19;return Object(l.jsxs)(l.Fragment,{children:["pending"===C&&Object(l.jsx)(f.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:3e3}),Object(l.jsx)(h,{searchHandler:function(n){n!==v&&(O(n),w([]),F(1),t.push(Object(r.a)(Object(r.a)({},e),{},{search:"query=".concat(n)})))}}),Object(l.jsx)(i.a,{movies:g,url:n,location:e}),D&&Object(l.jsx)(b.a,{onLoadMore:function(){q()}})]})}}}]);
//# sourceMappingURL=movies-page.2a642bc0.chunk.js.map