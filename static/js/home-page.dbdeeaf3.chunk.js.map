{"version":3,"sources":["services/apiService.js","components/movieList/MovieList.js","components/loadMoreButton/LoadMoreButton.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","pages/homePage/HomePage.js"],"names":["KEY","BASE_URL","TRENDING","SEARCH","getPopularMovies","page","a","axios","get","data","console","error","getMovieSearch","movie","getMovieById","movie_id","fetchCast","fetchReviews","MovieList","movies","url","location","log","map","id","title","poster_path","release_date","vote_average","to","pathname","state","from","src","alt","slice","LoadMoreButton","onLoadMore","type","onClick","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","unsupportedIterableToArray","TypeError","HomePage","useState","setPage","setMovies","status","setStatus","useEffect","getPopular","movieApi","then","response","results","prevMovies","prevPage","scroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","showLoadMore","length","color","height","width","timeout"],"mappings":"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","file":"static/js/home-page.dbdeeaf3.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n// https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false\r\nconst KEY = \"42d598709b0517212023a74116f4ecb9\";\r\nconst BASE_URL = \"https://api.themoviedb.org/3\";\r\nconst TRENDING = \"/trending/movie/week\";\r\nconst SEARCH = \"/search/movie\";\r\n\r\n// ${BASE_URL}trending/all/day?api_key=<<api_key>>&page\r\nexport async function getPopularMovies(page) {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `${BASE_URL}${TRENDING}?api_key=${KEY}&page=${page}`\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\n// ${BASE_URL}search/movie?api_key=${KEY}&page=1\r\nexport async function getMovieSearch(movie, page) {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `${BASE_URL}${SEARCH}?api_key=${KEY}&page=${page}&query=${movie}`\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n// ${BASE_URL}movie/{movie_id}?api_key=${KEY}\r\nexport async function getMovieById(movie_id) {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `${BASE_URL}movie/${movie_id}?api_key=${KEY}`\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\n// ${BASE_URL}movie/{movie_id}/credits?api_key=${KEY}\r\nexport async function fetchCast(movie_id) {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `${BASE_URL}movie/${movie_id}/credits?api_key=${KEY}`\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\n// ${BASE_URL}movie/${movie_id}/reviews?api_key=${KEY}&page=1\r\nexport async function fetchReviews(movie_id) {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `${BASE_URL}movie/${movie_id}/reviews?api_key=${KEY}&page=1`\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nexport default function MovieList({ movies, url, location }) {\r\n  console.log(movies);\r\n  return (\r\n    <>\r\n      <ul>\r\n        {movies.map(\r\n          ({ id, title, poster_path, release_date, vote_average }) => (\r\n            <li key={id}>\r\n              <NavLink\r\n                to={{\r\n                  pathname: `${url}/${id}`,\r\n                  state: { from: location },\r\n                }}\r\n              >\r\n                <div>\r\n                  <img\r\n                    src={`https://image.tmdb.org/t/p/w200` + poster_path}\r\n                    alt={title}\r\n                  />\r\n                  <div>\r\n                    <h2>{title}</h2>\r\n                    {vote_average && <p>⭐️{vote_average}</p>}\r\n                    {release_date && <p>{release_date.slice(0, 4)}</p>}\r\n                  </div>\r\n                </div>\r\n              </NavLink>\r\n            </li>\r\n          )\r\n        )}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","export default function LoadMoreButton({ onLoadMore }) {\r\n  return (\r\n    <div>\r\n      <button type=\"button\" onClick={onLoadMore}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useState, useEffect } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport MovieList from \"../../components/movieList/MovieList\";\r\nimport LoadMoreButton from \"../../components/loadMoreButton/LoadMoreButton\";\r\n\r\nimport * as movieApi from \"../../services/apiService\";\r\n\r\nexport default function HomePage() {\r\n  const [page, setPage] = useState(1);\r\n  const [movies, setMovies] = useState([]);\r\n  const [status, setStatus] = useState(\"idle\");\r\n\r\n  useEffect(() => {\r\n    getPopular();\r\n  }, []);\r\n\r\n  const getPopular = () => {\r\n    setStatus(\"pending\");\r\n\r\n    movieApi.getPopularMovies(page).then((response) => {\r\n      const data = response.results;\r\n      setMovies((prevMovies) => [...prevMovies, ...data]);\r\n    });\r\n    setPage((prevPage) => prevPage + 1);\r\n\r\n    if (page !== 1) {\r\n      scroll();\r\n    }\r\n    setStatus(\"resolved\");\r\n  };\r\n\r\n  const loadMorePopularMovies = () => {\r\n    getPopular();\r\n  };\r\n\r\n  const scroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const showLoadMore = movies.length > 0 && movies.length >= 12;\r\n  return (\r\n    <>\r\n      {status === \"pending\" && (\r\n        <Loader\r\n          type=\"ThreeDots\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000}\r\n        />\r\n      )}\r\n      {movies ? (\r\n        <MovieList movies={movies} url={\"movies\"} location={\"/\"} />\r\n      ) : (\r\n        <h2>No movies found!</h2>\r\n      )}\r\n      {showLoadMore && <LoadMoreButton onLoadMore={loadMorePopularMovies} />}\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}